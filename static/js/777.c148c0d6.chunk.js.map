{"version":3,"file":"static/js/777.c148c0d6.chunk.js","mappings":"mLAAaA,EAAQ,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACrB,OACE,+BACE,uBAAIA,KAGT,C,mFCHYC,EAAS,WACpB,OACE,0BACE,SAAC,KAAD,CACEC,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,iBACbC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,cAI5D,C,gJChBD,EAAsB,oB,iBCDTC,EAAU,mCAAG,WAAOC,GAAP,yFACCC,MAAM,4FAAD,OACkED,IAFxE,WAChBE,EADgB,QAKRC,GALQ,sBAMd,IAAId,MAAM,oBANI,uBASHa,EAASE,OATN,cAShBC,EATgB,yBAUfA,GAVe,2CAAH,sD,2BCOVC,EAAS,WACpB,OAA8BC,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXlB,EAAQe,EAAaI,IAAI,UAAY,IAE3CC,EAAAA,EAAAA,YAAU,WACR,GAAKpB,EAAL,CAEA,IAAMqB,EAAkB,mCAAG,oGAEvBZ,GAAW,GAFY,SAGCV,EAAWC,GAHZ,OAGjBsB,EAHiB,OAIvBX,EAASW,EAAUC,SACnBC,QAAQC,IAAIH,GALW,gDAOvBT,EAAS,KAAMvB,SAPQ,yBASvBmB,GAAW,GATY,4EAAH,qDAYxBY,GAdkB,CAenB,GAAE,CAACrB,IAQJ,OACE,iBAAK0B,UAAWC,EAAhB,WACE,kBAAMC,SARW,SAAAC,GACnBA,EAAMC,iBACN,IAAMC,EAAkBF,EAAMG,cAAcC,SAASC,YAAYC,MACjEnB,EAAgB,CAAEhB,MAAO+B,GAC1B,EAIG,WACE,8BACE,uBAAG,cACH,kBAAOK,KAAK,OAAOC,KAAK,cAAcC,UAAQ,QAEhD,mBAAQF,KAAK,SAAb,SAAsB,eAExB,+BACG5B,IAAW,SAACjB,EAAA,EAAD,IACXqB,IAAS,SAAC,IAAD,CAAOtB,QAASsB,IACzBF,EAAM6B,OAAS,IACd,wBACG7B,EAAM8B,KAAI,SAAAC,GAAI,OACb,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAKE,IAAMC,MAAO,CAAEC,KAAM5B,GAA/C,SACGwB,EAAKK,OAASL,EAAKJ,QAFfI,EAAKE,GADD,WAY1B,EAED,G","sources":["components/Error.jsx","components/Loader.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","services/SearchList.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["export const Error = ({message}) => {\n  return (\n    <>\n      <p>{message}</p>\n    </>\n  );\n};\n","import React from 'react';\nimport { ColorRing } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <div>\n      <ColorRing\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"div\":\"Movies_div__Jujoi\"};","export const searchList = async (query) => {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=b6e6c21ac077893d8efa67c324fb45b8&query=${query}`\n    );\n  \n    if (!response.ok) {\n      throw new Error('some troubles...');\n    }\n  \n    const data = await response.json();\n    return data;\n  };\n  ","import { useEffect, useState } from 'react';\nimport css from './Movies.module.css';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { searchList } from 'services/SearchList';\nimport { Loader } from 'components/Loader';\nimport { Error } from 'components/Error';\n\nexport const Movies = () => {\n  const [loading, setLoading] = useState(false);\n  const [films, setFilms] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query') || '';\n\n  useEffect(() => {\n    if (!query) return;\n\n    const fetchMoviesDetails = async () => {\n      try {\n        setLoading(true);\n        const movieInfo = await searchList(query);\n        setFilms(movieInfo.results);\n        console.log(movieInfo);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMoviesDetails();\n  }, [query]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const searchingString = event.currentTarget.elements.searchMovie.value;\n    setSearchParams({ query: searchingString });\n  };\n\n  return (\n    <div className={css.div}>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <p>Enter...</p>\n          <input type=\"text\" name=\"searchMovie\" required />\n        </label>\n        <button type=\"submit\">Search</button>\n      </form>\n      <section>\n        {loading && <Loader />}\n        {error && <Error message={error} />}\n        {films.length > 0 && (\n          <ul>\n            {films.map(film => (\n              <li key={film.id}>\n                <Link to={`/movies/${film.id}`} state={{ from: location }}>\n                  {film.title || film.name}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["Error","message","Loader","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","searchList","query","fetch","response","ok","json","data","Movies","useState","loading","setLoading","films","setFilms","error","setError","useSearchParams","searchParams","setSearchParams","location","useLocation","get","useEffect","fetchMoviesDetails","movieInfo","results","console","log","className","css","onSubmit","event","preventDefault","searchingString","currentTarget","elements","searchMovie","value","type","name","required","length","map","film","to","id","state","from","title"],"sourceRoot":""}