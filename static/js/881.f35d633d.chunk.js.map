{"version":3,"file":"static/js/881.f35d633d.chunk.js","mappings":"mLAAaA,EAAQ,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACrB,OACE,+BACE,uBAAIA,KAGT,C,mFCHYC,EAAS,WACpB,OACE,0BACE,SAAC,KAAD,CACEC,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,iBACbC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,cAI5D,C,mHChBD,EAAsB,oB,qDCMTC,EAAS,WACpB,OAA8BC,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAQJ,EAAaK,IAAI,UAAY,IAE3CC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAEA,IAAMG,EAAkB,mCAAG,oGAEvBb,GAAW,GAFY,UAGCc,EAAAA,EAAAA,GAAQJ,GAHT,OAGjBK,EAHiB,OAIvBb,EAASa,EAAUC,SAJI,gDAMvBZ,EAAS,KAAMhB,SANQ,yBAQvBY,GAAW,GARY,4EAAH,qDAWxBa,GAbkB,CAcnB,GAAE,CAACH,IAEJ,IAMMO,EAAiBhB,EAAMiB,QAC3B,SAAAC,GAAI,OAAIA,EAAKC,OAASD,EAAKC,MAAMC,cAAcC,SAASZ,EAAMW,cAA1D,IAGN,OACE,iBAAKE,UAAWC,EAAhB,WACE,kBAAMC,SAZW,SAAAC,GACnBA,EAAMC,iBACN,IAAMC,EAAkBF,EAAMG,cAAcC,SAASC,YAAYC,MACjEzB,EAAgB,CAAEG,MAAOkB,GAC1B,EAQG,WACE,8BACE,uBAAG,cACH,kBAAOK,KAAK,OAAOC,KAAK,cAAcC,UAAQ,QAEhD,mBAAQF,KAAK,SAAb,SAAsB,eAExB,+BACGlC,IAAW,SAACV,EAAA,EAAD,IACXc,IAAS,SAAChB,EAAA,EAAD,CAAOC,QAASe,IACf,OAAVF,IACC,wBACGA,GACCgB,EAAemB,KAAI,SAAAjB,GAAI,OACrB,yBACE,SAAC,KAAD,CAAMkB,GAAE,kBAAalB,EAAKmB,IAAMC,MAAO,CAAEC,KAAMhC,GAA/C,SACGW,EAAKC,OAASD,EAAKe,QAFff,EAAKmB,GADO,WAYpC,C,qFCrEYxB,EAAO,mCAAG,sGACE2B,MACrB,0FAFmB,WACfC,EADe,QAKPC,GALO,sBAMb,IAAIxD,MAAM,oBANG,uBASFuD,EAASE,OATP,cASfC,EATe,yBAUdA,GAVc,2CAAH,oD","sources":["components/Error.jsx","components/Loader.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/DayList.jsx"],"sourcesContent":["export const Error = ({message}) => {\n  return (\n    <>\n      <p>{message}</p>\n    </>\n  );\n};\n","import React from 'react';\nimport { ColorRing } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <div>\n      <ColorRing\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"div\":\"Movies_div__Jujoi\"};","import { useEffect, useState } from 'react';\nimport css from './Movies.module.css';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { DayList } from 'services/DayList';\nimport { Loader } from 'components/Loader';\nimport { Error } from 'components/Error';\n\nexport const Movies = () => {\n  const [loading, setLoading] = useState(false);\n  const [links, setLinks] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query') || '';\n\n  useEffect(() => {\n    if (!query) return;\n\n    const fetchMoviesDetails = async () => {\n      try {\n        setLoading(true);\n        const movieInfo = await DayList(query);\n        setLinks(movieInfo.results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMoviesDetails();\n  }, [query]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const searchingString = event.currentTarget.elements.searchMovie.value;\n    setSearchParams({ query: searchingString });\n  };\n\n  const filteredSearch = links.filter(\n    link => link.title && link.title.toLowerCase().includes(query.toLowerCase())\n  );\n\n  return (\n    <div className={css.div}>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <p>Enter...</p>\n          <input type=\"text\" name=\"searchMovie\" required />\n        </label>\n        <button type=\"submit\">Search</button>\n      </form>\n      <section>\n        {loading && <Loader />}\n        {error && <Error message={error} />}\n        {links !== null && (\n          <ul>\n            {links &&\n              filteredSearch.map(link => (\n                <li key={link.id}>\n                  <Link to={`/movies/${link.id}`} state={{ from: location }}>\n                    {link.title || link.name}\n                  </Link>\n                </li>\n              ))}\n          </ul>\n        )}\n      </section>\n    </div>\n  );\n};\n","export const DayList = async () => {\n  const response = await fetch(\n    'https://api.themoviedb.org/3/trending/all/day?api_key=b6e6c21ac077893d8efa67c324fb45b8'\n  );\n\n  if (!response.ok) {\n    throw new Error('some troubles...');\n  }\n\n  const data = await response.json();\n  return data;\n};\n"],"names":["Error","message","Loader","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","Movies","useState","loading","setLoading","links","setLinks","error","setError","useSearchParams","searchParams","setSearchParams","location","useLocation","query","get","useEffect","fetchMoviesDetails","DayList","movieInfo","results","filteredSearch","filter","link","title","toLowerCase","includes","className","css","onSubmit","event","preventDefault","searchingString","currentTarget","elements","searchMovie","value","type","name","required","map","to","id","state","from","fetch","response","ok","json","data"],"sourceRoot":""}